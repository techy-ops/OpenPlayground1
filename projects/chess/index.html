<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Luxury Chess Game</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
/* ===== GLOBAL ===== */
* {
  box-sizing: border-box;
  font-family: 'Poppins', sans-serif;
}

body {
  margin: 0;
  min-height: 100vh;
  background: radial-gradient(circle at top, #1e3c72, #0f2027);
  display: flex;
  align-items: center;
  justify-content: center;
  color: white;
}

/* ===== CONTAINER ===== */
.game-container {
  background: rgba(255,255,255,0.1);
  backdrop-filter: blur(15px);
  border-radius: 20px;
  padding: 25px;
  box-shadow: 0 25px 50px rgba(0,0,0,0.6);
  display: flex;
  flex-direction: column;
  align-items: center;
}

/* ===== HEADER ===== */
.header {
  margin-bottom: 15px;
  text-align: center;
}

.header h1 {
  font-weight: 600;
  letter-spacing: 1px;
}

.turn {
  margin-top: 5px;
  font-size: 14px;
  opacity: 0.8;
}

/* ===== CHESS BOARD ===== */
.board {
  display: grid;
  grid-template-columns: repeat(8, 70px);
  grid-template-rows: repeat(8, 70px);
  border-radius: 14px;
  overflow: hidden;
  border: 4px solid rgba(255,255,255,0.3);
}

/* ===== SQUARE ===== */
.square {
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 40px;
  cursor: pointer;
  transition: all 0.25s ease;
}

.square.dark {
  background: #2c3e50;
}

.square.light {
  background: #ecf0f1;
}

.square:hover {
  transform: scale(1.05);
}

.square.selected {
  box-shadow: inset 0 0 0 4px gold;
}

.square.move {
  background: radial-gradient(circle, #f1c40f 25%, transparent 30%);
}

/* ===== PIECE ===== */
.piece {
  user-select: none;
}

/* ===== FOOTER ===== */
.footer {
  margin-top: 15px;
  font-size: 12px;
  opacity: 0.7;
}

/* ===== RESPONSIVE ===== */
@media (max-width: 700px) {
  .board {
    grid-template-columns: repeat(8, 45px);
    grid-template-rows: repeat(8, 45px);
  }
  .square {
    font-size: 28px;
  }
}
</style>
</head>

<body>

<div class="game-container">
  <div class="header">
    <h1>♟ Luxury Chess</h1>
    <div class="turn" id="turn">Turn: White</div>
  </div>

  <div class="board" id="board"></div>

  <div class="footer">
    Elegant Chess UI · HTML · CSS · JavaScript
  </div>
</div>

<script>
/* ===== PIECES ===== */
const pieces = {
  r: "♜", n: "♞", b: "♝", q: "♛", k: "♚", p: "♟",
  R: "♖", N: "♘", B: "♗", Q: "♕", K: "♔", P: "♙"
};

/* ===== INITIAL BOARD ===== */
let boardState = [
  "rnbqkbnr",
  "pppppppp",
  "........",
  "........",
  "........",
  "........",
  "PPPPPPPP",
  "RNBQKBNR"
];

const board = document.getElementById("board");
const turnText = document.getElementById("turn");

let selected = null;
let currentTurn = "white";

/* ===== CREATE BOARD ===== */
function createBoard() {
  board.innerHTML = "";
  boardState.forEach((row, r) => {
    [...row].forEach((cell, c) => {
      const square = document.createElement("div");
      square.className = `square ${(r + c) % 2 === 0 ? "light" : "dark"}`;
      square.dataset.row = r;
      square.dataset.col = c;

      if (cell !== ".") {
        const piece = document.createElement("div");
        piece.className = "piece";
        piece.textContent = pieces[cell];
        square.appendChild(piece);
      }

      square.addEventListener("click", () => handleClick(r, c));
      board.appendChild(square);
    });
  });
}

/* ===== CLICK HANDLER ===== */
function handleClick(r, c) {
  const piece = boardState[r][c];

  if (selected) {
    if (isValidMove(selected.r, selected.c, r, c)) {
      movePiece(selected.r, selected.c, r, c);
      switchTurn();
    }
    clearSelection();
  } else {
    if (piece !== "." && isCurrentTurnPiece(piece)) {
      selectSquare(r, c);
    }
  }
}

/* ===== SELECT ===== */
function selectSquare(r, c) {
  clearSelection();
  selected = { r, c };
  getSquare(r, c).classList.add("selected");
  showMoves(r, c);
}

/* ===== CLEAR ===== */
function clearSelection() {
  document.querySelectorAll(".square").forEach(sq => {
    sq.classList.remove("selected", "move");
  });
  selected = null;
}

/* ===== MOVE ===== */
function movePiece(sr, sc, tr, tc) {
  let row = boardState[sr].split("");
  let piece = row[sc];
  row[sc] = ".";
  boardState[sr] = row.join("");

  let targetRow = boardState[tr].split("");
  targetRow[tc] = piece;
  boardState[tr] = targetRow.join("");

  createBoard();
}

/* ===== TURN ===== */
function switchTurn() {
  currentTurn = currentTurn === "white" ? "black" : "white";
  turnText.textContent = `Turn: ${currentTurn.charAt(0).toUpperCase() + currentTurn.slice(1)}`;
}

/* ===== HELPERS ===== */
function getSquare(r, c) {
  return document.querySelector(`[data-row="${r}"][data-col="${c}"]`);
}

function isCurrentTurnPiece(piece) {
  return currentTurn === "white" ? piece === piece.toUpperCase() : piece === piece.toLowerCase();
}

/* ===== BASIC MOVE LOGIC ===== */
function isValidMove(sr, sc, tr, tc) {
  if (sr === tr && sc === tc) return false;

  const piece = boardState[sr][sc];
  const target = boardState[tr][tc];

  if (target !== "." && isCurrentTurnPiece(target)) return false;

  const dr = tr - sr;
  const dc = tc - sc;

  switch (piece.toLowerCase()) {
    case "p":
      return currentTurn === "white"
        ? dr === -1 && dc === 0 && target === "."
        : dr === 1 && dc === 0 && target === ".";
    case "r":
      return dr === 0 || dc === 0;
    case "b":
      return Math.abs(dr) === Math.abs(dc);
    case "q":
      return dr === 0 || dc === 0 || Math.abs(dr) === Math.abs(dc);
    case "n":
      return Math.abs(dr) * Math.abs(dc) === 2;
    case "k":
      return Math.abs(dr) <= 1 && Math.abs(dc) <= 1;
  }
  return false;
}

/* ===== SHOW MOVES ===== */
function showMoves(r, c) {
  for (let i = 0; i < 8; i++) {
    for (let j = 0; j < 8; j++) {
      if (isValidMove(r, c, i, j)) {
        getSquare(i, j).classList.add("move");
      }
    }
  }
}

/* ===== INIT ===== */
createBoard();
</script>

</body>
</html>
