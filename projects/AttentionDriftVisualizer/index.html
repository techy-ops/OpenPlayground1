<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Attention Drift Visualizer</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
</head>
<body>
    <div class="container">
        <header>
            <div class="header-content">
                <h1><i class="fas fa-brain"></i> Attention Drift Visualizer</h1>
                <p class="subtitle">Observe your focus patterns. No judgment, just awareness.</p>
            </div>
            <div class="header-stats">
                <div class="stat-badge">
                    <i class="fas fa-eye"></i>
                    <span id="currentFocus">Calm</span>
                </div>
                <div class="stat-badge">
                    <i class="fas fa-clock"></i>
                    <span id="sessionTime">0:00</span>
                </div>
            </div>
        </header>

        <main>
            <!-- Session Controls -->
            <div class="control-panel">
                <div class="session-controls">
                    <button id="startSessionBtn" class="btn-primary">
                        <i class="fas fa-play-circle"></i> Start Focus Session
                    </button>
                    <button id="pauseSessionBtn" class="btn-secondary" disabled>
                        <i class="fas fa-pause"></i> Pause
                    </button>
                    <button id="endSessionBtn" class="btn-secondary" disabled>
                        <i class="fas fa-stop"></i> End Session
                    </button>
                </div>
                
                <div class="session-settings">
                    <div class="setting-group">
                        <label for="sessionDuration">Session Duration</label>
                        <div class="duration-options">
                            <button class="duration-btn active" data-minutes="5">5 min</button>
                            <button class="duration-btn" data-minutes="10">10 min</button>
                            <button class="duration-btn" data-minutes="15">15 min</button>
                            <button class="duration-btn" data-minutes="20">20 min</button>
                        </div>
                    </div>
                    
                    <div class="setting-group">
                        <label>Focus Mode</label>
                        <div class="mode-options">
                            <button class="mode-btn active" data-mode="normal">
                                <i class="fas fa-user"></i> Normal
                            </button>
                            <button class="mode-btn" data-mode="deep">
                                <i class="fas fa-mountain"></i> Deep Work
                            </button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Real-time Visualization -->
            <div class="visualization-panel">
                <div class="visualization-header">
                    <h2><i class="fas fa-wave-square"></i> Your Focus Flow</h2>
                    <div class="visualization-info">
                        <span class="info-item">
                            <i class="fas fa-circle" style="color: #10b981;"></i> Focused
                        </span>
                        <span class="info-item">
                            <i class="fas fa-circle" style="color: #f59e0b;"></i> Drifting
                        </span>
                        <span class="info-item">
                            <i class="fas fa-circle" style="color: #ef4444;"></i> Distracted
                        </span>
                    </div>
                </div>
                
                <div class="focus-flow-container">
                    <div class="focus-timeline" id="focusTimeline">
                        <!-- Timeline visualization will be generated here -->
                    </div>
                    
                    <div class="focus-meter">
                        <div class="meter-labels">
                            <span>Deep Focus</span>
                            <span>Balanced</span>
                            <span>Scattered</span>
                        </div>
                        <div class="meter-bar">
                            <div class="meter-fill" id="meterFill"></div>
                            <div class="meter-indicator" id="meterIndicator">
                                <div class="indicator-dot"></div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="live-indicators">
                    <div class="indicator active" id="idleIndicator">
                        <div class="indicator-icon">
                            <i class="fas fa-mouse-pointer"></i>
                        </div>
                        <div class="indicator-content">
                            <h3>Activity</h3>
                            <p id="idleStatus">Active now</p>
                        </div>
                    </div>
                    
                    <div class="indicator" id="tabIndicator">
                        <div class="indicator-icon">
                            <i class="fas fa-window-restore"></i>
                        </div>
                        <div class="indicator-content">
                            <h3>Tab Focus</h3>
                            <p id="tabStatus">On this page</p>
                        </div>
                    </div>
                    
                    <div class="indicator" id="rhythmIndicator">
                        <div class="indicator-icon">
                            <i class="fas fa-heartbeat"></i>
                        </div>
                        <div class="indicator-content">
                            <h3>Focus Rhythm</h3>
                            <p id="rhythmStatus">Steady</p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Insights Panel -->
            <div class="insights-panel">
                <div class="insights-header">
                    <h2><i class="fas fa-chart-pie"></i> Session Insights</h2>
                    <button id="showHistoryBtn" class="btn-text">
                        <i class="fas fa-history"></i> View History
                    </button>
                </div>
                
                <div class="insights-content">
                    <div class="insight-cards">
                        <div class="insight-card">
                            <div class="insight-icon" style="background: #e0f2fe;">
                                <i class="fas fa-percentage" style="color: #0ea5e9;"></i>
                            </div>
                            <div class="insight-details">
                                <h3>Focus Time</h3>
                                <div class="insight-value" id="focusPercentage">0%</div>
                                <p>of session in focused state</p>
                            </div>
                        </div>
                        
                        <div class="insight-card">
                            <div class="insight-icon" style="background: #fef3c7;">
                                <i class="fas fa-exchange-alt" style="color: #d97706;"></i>
                            </div>
                            <div class="insight-details">
                                <h3>Drift Events</h3>
                                <div class="insight-value" id="driftCount">0</div>
                                <p>attention shifts detected</p>
                            </div>
                        </div>
                        
                        <div class="insight-card">
                            <div class="insight-icon" style="background: #dcfce7;">
                                <i class="fas fa-bolt" style="color: #16a34a;"></i>
                            </div>
                            <div class="insight-details">
                                <h3>Longest Focus</h3>
                                <div class="insight-value" id="longestFocus">0s</div>
                                <p>uninterrupted focus period</p>
                            </div>
                        </div>
                        
                        <div class="insight-card">
                            <div class="insight-icon" style="background: #fce7f3;">
                                <i class="fas fa-random" style="color: #db2777;"></i>
                            </div>
                            <div class="insight-details">
                                <h3>Rhythm Score</h3>
                                <div class="insight-value" id="rhythmScore">0</div>
                                <p>consistency of focus pattern</p>
                            </div>
                        </div>
                    </div>
                    
                    <div class="patterns-section">
                        <h3><i class="fas fa-project-diagram"></i> Focus Patterns</h3>
                        <div class="patterns-grid" id="patternsGrid">
                            <div class="pattern-item">
                                <div class="pattern-visual">
                                    <div class="pattern-bar" style="height: 80%; background: #10b981;"></div>
                                </div>
                                <p>Steady Focus</p>
                            </div>
                            <div class="pattern-item">
                                <div class="pattern-visual">
                                    <div class="pattern-bar" style="height: 50%; background: #f59e0b;"></div>
                                    <div class="pattern-bar" style="height: 70%; background: #10b981;"></div>
                                    <div class="pattern-bar" style="height: 40%; background: #f59e0b;"></div>
                                </div>
                                <p>Waves</p>
                            </div>
                            <div class="pattern-item">
                                <div class="pattern-visual">
                                    <div class="pattern-bar" style="height: 90%; background: #10b981;"></div>
                                    <div class="pattern-bar" style="height: 20%; background: #ef4444;"></div>
                                </div>
                                <p>Drop-off</p>
                            </div>
                            <div class="pattern-item">
                                <div class="pattern-visual">
                                    <div class="pattern-bar" style="height: 40%; background: #f59e0b;"></div>
                                    <div class="pattern-bar" style="height: 60%; background: #10b981;"></div>
                                    <div class="pattern-bar" style="height: 80%; background: #10b981;"></div>
                                </div>
                                <p>Building Up</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Reflection Panel -->
            <div class="reflection-panel" id="reflectionPanel">
                <div class="reflection-header">
                    <h2><i class="fas fa-comment-medical"></i> Reflection</h2>
                    <div class="reflection-status" id="reflectionStatus">
                        <i class="fas fa-hourglass-half"></i> Session in progress
                    </div>
                </div>
                
                <div class="reflection-content">
                    <div class="reflection-message" id="reflectionMessage">
                        <div class="message-icon">
                            <i class="fas fa-seedling"></i>
                        </div>
                        <div class="message-content">
                            <h3>Begin Your Focus Journey</h3>
                            <p>Start a session to observe your natural attention patterns. This isn't about productivityâ€”it's about awareness.</p>
                            <p class="tip">
                                <i class="fas fa-lightbulb"></i>
                                Notice when your focus naturally ebbs and flows without judgment.
                            </p>
                        </div>
                    </div>
                    
                    <div class="action-suggestions" id="actionSuggestions">
                        <h3><i class="fas fa-hands-helping"></i> Gentle Suggestions</h3>
                        <div class="suggestions-list">
                            <div class="suggestion">
                                <i class="fas fa-wind"></i>
                                <p>Take a breath when you notice distraction</p>
                            </div>
                            <div class="suggestion">
                                <i class="fas fa-redo"></i>
                                <p>Gently return to your task</p>
                            </div>
                            <div class="suggestion">
                                <i class="fas fa-eye"></i>
                                <p>Observe without criticizing</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- History Modal -->
            <div class="modal" id="historyModal">
                <div class="modal-content">
                    <div class="modal-header">
                        <h3><i class="fas fa-history"></i> Session History</h3>
                        <button class="close-modal">&times;</button>
                    </div>
                    <div class="modal-body">
                        <div class="history-filters">
                            <button class="filter-btn active" data-filter="all">All Sessions</button>
                            <button class="filter-btn" data-filter="today">Today</button>
                            <button class="filter-btn" data-filter="week">This Week</button>
                        </div>
                        
                        <div class="history-list" id="historyList">
                            <!-- History items will be added here -->
                        </div>
                        
                        <div class="modal-actions">
                            <button id="clearHistoryBtn" class="btn-secondary">
                                <i class="fas fa-trash"></i> Clear History
                            </button>
                            <button id="closeHistoryBtn" class="btn-primary">
                                Close
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </main>
        
        <footer>
            <div class="footer-content">
                <div class="footer-left">
                    <p><i class="fas fa-brain"></i> Attention Drift Visualizer &copy; <span id="currentYear"></span></p>
                    <p class="footer-sub">Awareness tool, not a productivity tracker</p>
                </div>
                <div class="footer-right">
                    <div class="footer-links">
                        <a href="#" class="footer-link" id="aboutBtn">
                            <i class="fas fa-info-circle"></i> About
                        </a>
                        <a href="#" class="footer-link" id="privacyBtn">
                            <i class="fas fa-user-shield"></i> Privacy
                        </a>
                    </div>
                </div>
            </div>
        </footer>
    </div>

    <script src="script.js"></script>
</body>
</html>